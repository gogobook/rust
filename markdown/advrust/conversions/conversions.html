<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>类型转换</title>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
        
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        <style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        
        
    </head>
    <body class="vscode-light">
        <h1 id="%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2">类型转换</h1>
<blockquote>
<p>原文跟踪<a href="https://github.com/rust-lang-nursery/nomicon/blob/master/src/conversions.md">conversions.md</a>   Commit: 0e6c680ebd72f1860e46b2bd40e2a387ad8084ad</p>
</blockquote>
<p>在一天结束时，一切都只是一堆<code>bits</code>，类型系统只是帮助我们正确使用这些<code>bits</code>。类型<code>bits</code>有两个常见问题：需要将这些确切的<code>bits</code>重新解释为不同的类型，并且需要将<code>bits</code>更改为具有等效含义的不同类型。因为Rust鼓励在类型系统中编码重要属性，所以这些问题非常普遍。因此，Rust因此为您提供了几种解决方法。</p>
<p>首先，我们将介绍<code>Safe Rust</code>为您重新解释值的方法。实现这一目标的最简单方法是将一个值构造成其组成部分，然后从中构建一个新类型。例如</p>
<pre><code class="language-rust"><div><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Foo</span></span> {
    x: <span class="hljs-built_in">u32</span>,
    y: <span class="hljs-built_in">u16</span>,
}

<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Bar</span></span> {
    a: <span class="hljs-built_in">u32</span>,
    b: <span class="hljs-built_in">u16</span>,
}

<span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">reinterpret</span></span>(foo: Foo) -&gt; Bar {
    <span class="hljs-keyword">let</span> Foo { x, y } = foo;
    Bar { a: x, b: y }
}
</div></code></pre>
<p>但这令人讨厌。对于常见的转换，Rust提供了更符合人体工程学的替代品。</p>

    </body>
    </html>