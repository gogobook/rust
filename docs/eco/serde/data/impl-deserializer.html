<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Implementing a Deserializer | kriry技术</title>
    <meta name="description" content="始于开发者, 服务于开发者的网络资源">
    <link rel="icon" href="/favicon.ico">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.b0415a31.css" as="style"><link rel="preload" href="/assets/js/app.d3c8f621.js" as="script"><link rel="preload" href="/assets/js/91.c6b2ad01.js" as="script"><link rel="prefetch" href="/assets/js/10.64b85aac.js"><link rel="prefetch" href="/assets/js/100.1fc123d1.js"><link rel="prefetch" href="/assets/js/101.4774d92e.js"><link rel="prefetch" href="/assets/js/102.f75202a2.js"><link rel="prefetch" href="/assets/js/103.294dcc1e.js"><link rel="prefetch" href="/assets/js/104.cdda5855.js"><link rel="prefetch" href="/assets/js/105.11864f1f.js"><link rel="prefetch" href="/assets/js/106.e2f681ea.js"><link rel="prefetch" href="/assets/js/107.13ae51bb.js"><link rel="prefetch" href="/assets/js/108.11a8cdb5.js"><link rel="prefetch" href="/assets/js/109.6689a474.js"><link rel="prefetch" href="/assets/js/11.9e7b87f9.js"><link rel="prefetch" href="/assets/js/110.92befbcd.js"><link rel="prefetch" href="/assets/js/111.32b62e7b.js"><link rel="prefetch" href="/assets/js/112.809cb97a.js"><link rel="prefetch" href="/assets/js/113.450610a2.js"><link rel="prefetch" href="/assets/js/114.e1b03d5e.js"><link rel="prefetch" href="/assets/js/115.b213e0a7.js"><link rel="prefetch" href="/assets/js/116.4b807632.js"><link rel="prefetch" href="/assets/js/117.ca378aed.js"><link rel="prefetch" href="/assets/js/118.79f09036.js"><link rel="prefetch" href="/assets/js/119.7a5e6977.js"><link rel="prefetch" href="/assets/js/12.cbd79a0c.js"><link rel="prefetch" href="/assets/js/120.847e15f5.js"><link rel="prefetch" href="/assets/js/121.bc68a1f8.js"><link rel="prefetch" href="/assets/js/122.5d1fe5bf.js"><link rel="prefetch" href="/assets/js/123.86ed72bf.js"><link rel="prefetch" href="/assets/js/124.43da0243.js"><link rel="prefetch" href="/assets/js/125.bba47127.js"><link rel="prefetch" href="/assets/js/126.009522fa.js"><link rel="prefetch" href="/assets/js/127.f83cea5c.js"><link rel="prefetch" href="/assets/js/128.3947e4d3.js"><link rel="prefetch" href="/assets/js/129.3eb3e6d3.js"><link rel="prefetch" href="/assets/js/13.b0184bcc.js"><link rel="prefetch" href="/assets/js/130.487acd2d.js"><link rel="prefetch" href="/assets/js/131.5887d86b.js"><link rel="prefetch" href="/assets/js/132.57b4d354.js"><link rel="prefetch" href="/assets/js/133.95a6856c.js"><link rel="prefetch" href="/assets/js/134.f3a33597.js"><link rel="prefetch" href="/assets/js/135.dcff2a53.js"><link rel="prefetch" href="/assets/js/136.54a29fff.js"><link rel="prefetch" href="/assets/js/137.1643e3d3.js"><link rel="prefetch" href="/assets/js/138.dc49ffc8.js"><link rel="prefetch" href="/assets/js/139.22ef4ac2.js"><link rel="prefetch" href="/assets/js/14.78bcfdc6.js"><link rel="prefetch" href="/assets/js/140.ad9dee3e.js"><link rel="prefetch" href="/assets/js/141.109ba333.js"><link rel="prefetch" href="/assets/js/142.9f48f794.js"><link rel="prefetch" href="/assets/js/143.afc6daa6.js"><link rel="prefetch" href="/assets/js/144.a83be383.js"><link rel="prefetch" href="/assets/js/145.14e1fab2.js"><link rel="prefetch" href="/assets/js/146.12c93bf6.js"><link rel="prefetch" href="/assets/js/147.6fb613e6.js"><link rel="prefetch" href="/assets/js/148.31a08161.js"><link rel="prefetch" href="/assets/js/149.901eb3f5.js"><link rel="prefetch" href="/assets/js/15.c34bf0e1.js"><link rel="prefetch" href="/assets/js/150.0f0d007b.js"><link rel="prefetch" href="/assets/js/151.8b2d6258.js"><link rel="prefetch" href="/assets/js/152.c82bfb41.js"><link rel="prefetch" href="/assets/js/153.dfe1f866.js"><link rel="prefetch" href="/assets/js/154.7ebd9869.js"><link rel="prefetch" href="/assets/js/155.f529b21a.js"><link rel="prefetch" href="/assets/js/156.e9a4a3b2.js"><link rel="prefetch" href="/assets/js/157.4f584b8f.js"><link rel="prefetch" href="/assets/js/158.b69265ea.js"><link rel="prefetch" href="/assets/js/159.dce9aece.js"><link rel="prefetch" href="/assets/js/16.8393f9b5.js"><link rel="prefetch" href="/assets/js/160.e17d16ab.js"><link rel="prefetch" href="/assets/js/161.582395b6.js"><link rel="prefetch" href="/assets/js/162.73c7af34.js"><link rel="prefetch" href="/assets/js/163.da3b0733.js"><link rel="prefetch" href="/assets/js/164.6f3a24b6.js"><link rel="prefetch" href="/assets/js/165.0dac2b94.js"><link rel="prefetch" href="/assets/js/166.47ad7047.js"><link rel="prefetch" href="/assets/js/167.7c2412b4.js"><link rel="prefetch" href="/assets/js/168.8568ea12.js"><link rel="prefetch" href="/assets/js/169.e3d8fb49.js"><link rel="prefetch" href="/assets/js/17.3d9e63f1.js"><link rel="prefetch" href="/assets/js/170.ba98d2a0.js"><link rel="prefetch" href="/assets/js/171.b9d92bff.js"><link rel="prefetch" href="/assets/js/172.c3702a04.js"><link rel="prefetch" href="/assets/js/173.f6b060dd.js"><link rel="prefetch" href="/assets/js/174.6be17507.js"><link rel="prefetch" href="/assets/js/175.87524196.js"><link rel="prefetch" href="/assets/js/176.dba9c812.js"><link rel="prefetch" href="/assets/js/177.d65d6af1.js"><link rel="prefetch" href="/assets/js/178.0de71f3b.js"><link rel="prefetch" href="/assets/js/179.b24830d6.js"><link rel="prefetch" href="/assets/js/18.a75de37c.js"><link rel="prefetch" href="/assets/js/180.ce91deef.js"><link rel="prefetch" href="/assets/js/181.e1121281.js"><link rel="prefetch" href="/assets/js/182.ad532dba.js"><link rel="prefetch" href="/assets/js/183.01dc5f77.js"><link rel="prefetch" href="/assets/js/184.c04acd1d.js"><link rel="prefetch" href="/assets/js/185.362a669b.js"><link rel="prefetch" href="/assets/js/186.6ff9c4dc.js"><link rel="prefetch" href="/assets/js/187.6a1ab8e8.js"><link rel="prefetch" href="/assets/js/188.0f0a3252.js"><link rel="prefetch" href="/assets/js/189.a0552a27.js"><link rel="prefetch" href="/assets/js/19.3803267b.js"><link rel="prefetch" href="/assets/js/190.93b3fd0c.js"><link rel="prefetch" href="/assets/js/191.b6dc0c89.js"><link rel="prefetch" href="/assets/js/192.725c7fb1.js"><link rel="prefetch" href="/assets/js/193.688b4832.js"><link rel="prefetch" href="/assets/js/194.985120e0.js"><link rel="prefetch" href="/assets/js/195.522ef15f.js"><link rel="prefetch" href="/assets/js/196.0c5772ef.js"><link rel="prefetch" href="/assets/js/197.b46d3065.js"><link rel="prefetch" href="/assets/js/198.b20fee4f.js"><link rel="prefetch" href="/assets/js/199.d3bba2c6.js"><link rel="prefetch" href="/assets/js/2.51db2dbd.js"><link rel="prefetch" href="/assets/js/20.2354855d.js"><link rel="prefetch" href="/assets/js/200.d6308429.js"><link rel="prefetch" href="/assets/js/201.2a0ed53e.js"><link rel="prefetch" href="/assets/js/202.0da3cd7b.js"><link rel="prefetch" href="/assets/js/203.696982fb.js"><link rel="prefetch" href="/assets/js/204.097e8052.js"><link rel="prefetch" href="/assets/js/205.e4c3c50b.js"><link rel="prefetch" href="/assets/js/206.aadf0fdf.js"><link rel="prefetch" href="/assets/js/207.6fe68fd6.js"><link rel="prefetch" href="/assets/js/208.d5ee900f.js"><link rel="prefetch" href="/assets/js/209.174685f6.js"><link rel="prefetch" href="/assets/js/21.2c69d334.js"><link rel="prefetch" href="/assets/js/210.7498ad32.js"><link rel="prefetch" href="/assets/js/211.2c5477cf.js"><link rel="prefetch" href="/assets/js/212.355d42b3.js"><link rel="prefetch" href="/assets/js/213.bd4581e6.js"><link rel="prefetch" href="/assets/js/214.9964a07e.js"><link rel="prefetch" href="/assets/js/215.295c29e6.js"><link rel="prefetch" href="/assets/js/216.35af5162.js"><link rel="prefetch" href="/assets/js/217.68495252.js"><link rel="prefetch" href="/assets/js/218.781ae4b2.js"><link rel="prefetch" href="/assets/js/219.7ae81bd1.js"><link rel="prefetch" href="/assets/js/22.968f7540.js"><link rel="prefetch" href="/assets/js/220.60d9341d.js"><link rel="prefetch" href="/assets/js/221.39b497ea.js"><link rel="prefetch" href="/assets/js/222.ef3a6b65.js"><link rel="prefetch" href="/assets/js/223.c82520bb.js"><link rel="prefetch" href="/assets/js/224.d3146cad.js"><link rel="prefetch" href="/assets/js/225.3602a497.js"><link rel="prefetch" href="/assets/js/226.5dddfcc0.js"><link rel="prefetch" href="/assets/js/227.59fac0fb.js"><link rel="prefetch" href="/assets/js/228.0c7cbfa7.js"><link rel="prefetch" href="/assets/js/229.09c32f1d.js"><link rel="prefetch" href="/assets/js/23.d98a7265.js"><link rel="prefetch" href="/assets/js/230.f4ff493e.js"><link rel="prefetch" href="/assets/js/231.f2679a03.js"><link rel="prefetch" href="/assets/js/232.4899affd.js"><link rel="prefetch" href="/assets/js/233.fd1c6d05.js"><link rel="prefetch" href="/assets/js/234.ce73104d.js"><link rel="prefetch" href="/assets/js/235.7085bf06.js"><link rel="prefetch" href="/assets/js/236.1fc1eadf.js"><link rel="prefetch" href="/assets/js/237.1dafd265.js"><link rel="prefetch" href="/assets/js/238.bd05752f.js"><link rel="prefetch" href="/assets/js/239.b75abd36.js"><link rel="prefetch" href="/assets/js/24.56d84234.js"><link rel="prefetch" href="/assets/js/240.ef25a303.js"><link rel="prefetch" href="/assets/js/241.550608d8.js"><link rel="prefetch" href="/assets/js/242.35e6a722.js"><link rel="prefetch" href="/assets/js/243.7a6a3ab1.js"><link rel="prefetch" href="/assets/js/244.3a539932.js"><link rel="prefetch" href="/assets/js/245.1da5f137.js"><link rel="prefetch" href="/assets/js/246.3193eea3.js"><link rel="prefetch" href="/assets/js/247.8ce455e6.js"><link rel="prefetch" href="/assets/js/248.740b000c.js"><link rel="prefetch" href="/assets/js/249.1a95a27f.js"><link rel="prefetch" href="/assets/js/25.7fa48d63.js"><link rel="prefetch" href="/assets/js/250.004fd861.js"><link rel="prefetch" href="/assets/js/251.2364f7ad.js"><link rel="prefetch" href="/assets/js/252.0b673238.js"><link rel="prefetch" href="/assets/js/253.998a52ae.js"><link rel="prefetch" href="/assets/js/254.7e6d39a8.js"><link rel="prefetch" href="/assets/js/255.9b0e4bed.js"><link rel="prefetch" href="/assets/js/256.f8fbc0ea.js"><link rel="prefetch" href="/assets/js/257.acbbbae0.js"><link rel="prefetch" href="/assets/js/258.ea85bda6.js"><link rel="prefetch" href="/assets/js/259.dbd04116.js"><link rel="prefetch" href="/assets/js/26.b4350e9f.js"><link rel="prefetch" href="/assets/js/260.7f8c9ed4.js"><link rel="prefetch" href="/assets/js/261.902f4119.js"><link rel="prefetch" href="/assets/js/262.ebecddbf.js"><link rel="prefetch" href="/assets/js/263.55dd9810.js"><link rel="prefetch" href="/assets/js/264.5ffa85ab.js"><link rel="prefetch" href="/assets/js/265.d42ae784.js"><link rel="prefetch" href="/assets/js/266.79d3e6e7.js"><link rel="prefetch" href="/assets/js/267.40f4d300.js"><link rel="prefetch" href="/assets/js/268.8d5088c0.js"><link rel="prefetch" href="/assets/js/269.115b587a.js"><link rel="prefetch" href="/assets/js/27.e7bfdc5c.js"><link rel="prefetch" href="/assets/js/270.4422c554.js"><link rel="prefetch" href="/assets/js/271.442c4ba2.js"><link rel="prefetch" href="/assets/js/272.b95f52bc.js"><link rel="prefetch" href="/assets/js/273.36d07242.js"><link rel="prefetch" href="/assets/js/274.264ddf40.js"><link rel="prefetch" href="/assets/js/275.6a10ed2a.js"><link rel="prefetch" href="/assets/js/276.3f0b4b73.js"><link rel="prefetch" href="/assets/js/277.23da4f95.js"><link rel="prefetch" href="/assets/js/278.d693fd17.js"><link rel="prefetch" href="/assets/js/279.680d8a5f.js"><link rel="prefetch" href="/assets/js/28.fe83dd98.js"><link rel="prefetch" href="/assets/js/280.deb1544b.js"><link rel="prefetch" href="/assets/js/281.20716500.js"><link rel="prefetch" href="/assets/js/282.4cec3001.js"><link rel="prefetch" href="/assets/js/283.ad4038d2.js"><link rel="prefetch" href="/assets/js/284.8cc9fa89.js"><link rel="prefetch" href="/assets/js/285.e2ef4093.js"><link rel="prefetch" href="/assets/js/286.926a666a.js"><link rel="prefetch" href="/assets/js/287.11ce7bfb.js"><link rel="prefetch" href="/assets/js/288.29eafab6.js"><link rel="prefetch" href="/assets/js/289.a59337e5.js"><link rel="prefetch" href="/assets/js/29.972e03ce.js"><link rel="prefetch" href="/assets/js/290.d433de45.js"><link rel="prefetch" href="/assets/js/291.ff4a4114.js"><link rel="prefetch" href="/assets/js/292.5ad3af68.js"><link rel="prefetch" href="/assets/js/293.139eb402.js"><link rel="prefetch" href="/assets/js/294.3214b7ae.js"><link rel="prefetch" href="/assets/js/295.ca2ce703.js"><link rel="prefetch" href="/assets/js/296.d3c51415.js"><link rel="prefetch" href="/assets/js/297.b1d76129.js"><link rel="prefetch" href="/assets/js/298.3b7d759d.js"><link rel="prefetch" href="/assets/js/299.81fc59f4.js"><link rel="prefetch" href="/assets/js/3.8401b4d4.js"><link rel="prefetch" href="/assets/js/30.b418c356.js"><link rel="prefetch" href="/assets/js/300.2ed4962d.js"><link rel="prefetch" href="/assets/js/301.ee85a516.js"><link rel="prefetch" href="/assets/js/302.2e681887.js"><link rel="prefetch" href="/assets/js/303.3974f147.js"><link rel="prefetch" href="/assets/js/304.901cdb00.js"><link rel="prefetch" href="/assets/js/305.25b0dcc3.js"><link rel="prefetch" href="/assets/js/306.6963c639.js"><link rel="prefetch" href="/assets/js/307.9be6b374.js"><link rel="prefetch" href="/assets/js/308.6ee2cb82.js"><link rel="prefetch" href="/assets/js/309.29adc40e.js"><link rel="prefetch" href="/assets/js/31.26809f31.js"><link rel="prefetch" href="/assets/js/310.b1301173.js"><link rel="prefetch" href="/assets/js/311.55398296.js"><link rel="prefetch" href="/assets/js/312.5467cce4.js"><link rel="prefetch" href="/assets/js/313.1dc1ff94.js"><link rel="prefetch" href="/assets/js/314.a792c6a3.js"><link rel="prefetch" href="/assets/js/315.c2b677e0.js"><link rel="prefetch" href="/assets/js/316.4975289e.js"><link rel="prefetch" href="/assets/js/317.915421b6.js"><link rel="prefetch" href="/assets/js/318.795b779c.js"><link rel="prefetch" href="/assets/js/319.39738d87.js"><link rel="prefetch" href="/assets/js/32.d60b2388.js"><link rel="prefetch" href="/assets/js/320.745d0d2c.js"><link rel="prefetch" href="/assets/js/321.d9c48ddf.js"><link rel="prefetch" href="/assets/js/322.636fc6ee.js"><link rel="prefetch" href="/assets/js/323.811324e8.js"><link rel="prefetch" href="/assets/js/324.aad8c1de.js"><link rel="prefetch" href="/assets/js/325.e52746d4.js"><link rel="prefetch" href="/assets/js/326.8c2ede88.js"><link rel="prefetch" href="/assets/js/327.84f21678.js"><link rel="prefetch" href="/assets/js/328.f9b82b12.js"><link rel="prefetch" href="/assets/js/329.619270e8.js"><link rel="prefetch" href="/assets/js/33.f9025f54.js"><link rel="prefetch" href="/assets/js/330.8bd18926.js"><link rel="prefetch" href="/assets/js/331.6f541f5c.js"><link rel="prefetch" href="/assets/js/332.3c714ac1.js"><link rel="prefetch" href="/assets/js/333.5fa7ad9b.js"><link rel="prefetch" href="/assets/js/334.13e243f3.js"><link rel="prefetch" href="/assets/js/335.4880e449.js"><link rel="prefetch" href="/assets/js/336.5c3312c2.js"><link rel="prefetch" href="/assets/js/337.4c0cc05e.js"><link rel="prefetch" href="/assets/js/338.2a7a9f9b.js"><link rel="prefetch" href="/assets/js/339.4f6e8b0e.js"><link rel="prefetch" href="/assets/js/34.a82f7bf6.js"><link rel="prefetch" href="/assets/js/340.05290f7e.js"><link rel="prefetch" href="/assets/js/341.c5f275b9.js"><link rel="prefetch" href="/assets/js/342.59cb0f22.js"><link rel="prefetch" href="/assets/js/343.155709d7.js"><link rel="prefetch" href="/assets/js/344.b0decde5.js"><link rel="prefetch" href="/assets/js/345.5e05b182.js"><link rel="prefetch" href="/assets/js/346.3b05895c.js"><link rel="prefetch" href="/assets/js/347.c2d483c4.js"><link rel="prefetch" href="/assets/js/348.ea7b83aa.js"><link rel="prefetch" href="/assets/js/349.f285961e.js"><link rel="prefetch" href="/assets/js/35.0704d866.js"><link rel="prefetch" href="/assets/js/350.024af132.js"><link rel="prefetch" href="/assets/js/351.8cb6c58f.js"><link rel="prefetch" href="/assets/js/352.0d6de25f.js"><link rel="prefetch" href="/assets/js/353.ca027398.js"><link rel="prefetch" href="/assets/js/354.42e45da6.js"><link rel="prefetch" href="/assets/js/355.06de84ef.js"><link rel="prefetch" href="/assets/js/356.3f7e6096.js"><link rel="prefetch" href="/assets/js/357.5ec07713.js"><link rel="prefetch" href="/assets/js/358.fa61615c.js"><link rel="prefetch" href="/assets/js/359.769da366.js"><link rel="prefetch" href="/assets/js/36.404125d2.js"><link rel="prefetch" href="/assets/js/360.6af80d7f.js"><link rel="prefetch" href="/assets/js/361.e808cb20.js"><link rel="prefetch" href="/assets/js/362.1966a54b.js"><link rel="prefetch" href="/assets/js/363.003fa8ff.js"><link rel="prefetch" href="/assets/js/364.0cf3c4e9.js"><link rel="prefetch" href="/assets/js/365.59b6987c.js"><link rel="prefetch" href="/assets/js/366.f6466697.js"><link rel="prefetch" href="/assets/js/367.857fd699.js"><link rel="prefetch" href="/assets/js/368.965fd5e1.js"><link rel="prefetch" href="/assets/js/369.b5d545ec.js"><link rel="prefetch" href="/assets/js/37.4bb58a18.js"><link rel="prefetch" href="/assets/js/370.aedb85d9.js"><link rel="prefetch" href="/assets/js/371.40aaaf45.js"><link rel="prefetch" href="/assets/js/372.695b22ac.js"><link rel="prefetch" href="/assets/js/373.1d1d962c.js"><link rel="prefetch" href="/assets/js/374.3b4fb683.js"><link rel="prefetch" href="/assets/js/375.a0a9d76d.js"><link rel="prefetch" href="/assets/js/376.2cafac93.js"><link rel="prefetch" href="/assets/js/377.a7319f7c.js"><link rel="prefetch" href="/assets/js/378.ec6bf6b5.js"><link rel="prefetch" href="/assets/js/379.50b81352.js"><link rel="prefetch" href="/assets/js/38.f6139b5c.js"><link rel="prefetch" href="/assets/js/380.f7ceacaf.js"><link rel="prefetch" href="/assets/js/381.60a34864.js"><link rel="prefetch" href="/assets/js/382.f48cea1f.js"><link rel="prefetch" href="/assets/js/383.a06a9046.js"><link rel="prefetch" href="/assets/js/384.0bdf1395.js"><link rel="prefetch" href="/assets/js/385.1afb6421.js"><link rel="prefetch" href="/assets/js/386.6c736c89.js"><link rel="prefetch" href="/assets/js/387.60e346a3.js"><link rel="prefetch" href="/assets/js/388.279c72c6.js"><link rel="prefetch" href="/assets/js/389.d870154d.js"><link rel="prefetch" href="/assets/js/39.729250ed.js"><link rel="prefetch" href="/assets/js/390.630142cf.js"><link rel="prefetch" href="/assets/js/391.6904696c.js"><link rel="prefetch" href="/assets/js/392.5fee5631.js"><link rel="prefetch" href="/assets/js/393.e892ba36.js"><link rel="prefetch" href="/assets/js/394.6cb8cc81.js"><link rel="prefetch" href="/assets/js/395.f2af60a9.js"><link rel="prefetch" href="/assets/js/396.ce69a5ed.js"><link rel="prefetch" href="/assets/js/397.61dfc29a.js"><link rel="prefetch" href="/assets/js/398.01779561.js"><link rel="prefetch" href="/assets/js/399.f3a48234.js"><link rel="prefetch" href="/assets/js/4.7b63d948.js"><link rel="prefetch" href="/assets/js/40.2f46a5af.js"><link rel="prefetch" href="/assets/js/400.08b7b0db.js"><link rel="prefetch" href="/assets/js/401.c983206a.js"><link rel="prefetch" href="/assets/js/402.ae2f3edc.js"><link rel="prefetch" href="/assets/js/403.f6ecc249.js"><link rel="prefetch" href="/assets/js/404.e62db2a1.js"><link rel="prefetch" href="/assets/js/405.5e8b3187.js"><link rel="prefetch" href="/assets/js/406.f5bbf147.js"><link rel="prefetch" href="/assets/js/407.d7c2c978.js"><link rel="prefetch" href="/assets/js/408.4c9b9935.js"><link rel="prefetch" href="/assets/js/409.44ab61a5.js"><link rel="prefetch" href="/assets/js/41.a08caa80.js"><link rel="prefetch" href="/assets/js/410.918e0882.js"><link rel="prefetch" href="/assets/js/411.3e15bfd7.js"><link rel="prefetch" href="/assets/js/412.3d563232.js"><link rel="prefetch" href="/assets/js/413.aa8d8d6d.js"><link rel="prefetch" href="/assets/js/414.6536efed.js"><link rel="prefetch" href="/assets/js/415.ee451275.js"><link rel="prefetch" href="/assets/js/416.b617d354.js"><link rel="prefetch" href="/assets/js/417.200cf654.js"><link rel="prefetch" href="/assets/js/418.b998d5f7.js"><link rel="prefetch" href="/assets/js/419.e806da3d.js"><link rel="prefetch" href="/assets/js/42.06f8b4d5.js"><link rel="prefetch" href="/assets/js/420.f432918b.js"><link rel="prefetch" href="/assets/js/421.c80278a4.js"><link rel="prefetch" href="/assets/js/422.73379d31.js"><link rel="prefetch" href="/assets/js/423.13816ec1.js"><link rel="prefetch" href="/assets/js/424.0d53754d.js"><link rel="prefetch" href="/assets/js/425.9a59e74e.js"><link rel="prefetch" href="/assets/js/426.caf6e6f3.js"><link rel="prefetch" href="/assets/js/427.60aecde1.js"><link rel="prefetch" href="/assets/js/428.383b3536.js"><link rel="prefetch" href="/assets/js/429.d4fea273.js"><link rel="prefetch" href="/assets/js/43.8d129615.js"><link rel="prefetch" href="/assets/js/430.0435710a.js"><link rel="prefetch" href="/assets/js/431.b95fa8f0.js"><link rel="prefetch" href="/assets/js/432.209d318d.js"><link rel="prefetch" href="/assets/js/433.e5c18ca7.js"><link rel="prefetch" href="/assets/js/434.b27c7583.js"><link rel="prefetch" href="/assets/js/435.f46b88c9.js"><link rel="prefetch" href="/assets/js/436.8e4b82d7.js"><link rel="prefetch" href="/assets/js/437.ddbd1ea9.js"><link rel="prefetch" href="/assets/js/438.3b90a97b.js"><link rel="prefetch" href="/assets/js/439.52f9e1d6.js"><link rel="prefetch" href="/assets/js/44.9ed3c652.js"><link rel="prefetch" href="/assets/js/440.dc223e33.js"><link rel="prefetch" href="/assets/js/441.7f82dc47.js"><link rel="prefetch" href="/assets/js/442.d1a97827.js"><link rel="prefetch" href="/assets/js/443.97b666c1.js"><link rel="prefetch" href="/assets/js/444.98b5d211.js"><link rel="prefetch" href="/assets/js/445.7eebd7c3.js"><link rel="prefetch" href="/assets/js/446.c5e099fd.js"><link rel="prefetch" href="/assets/js/447.50171b14.js"><link rel="prefetch" href="/assets/js/448.ff944220.js"><link rel="prefetch" href="/assets/js/449.28055be1.js"><link rel="prefetch" href="/assets/js/45.c8d02623.js"><link rel="prefetch" href="/assets/js/450.a6bb5adc.js"><link rel="prefetch" href="/assets/js/451.95a4ea42.js"><link rel="prefetch" href="/assets/js/452.a24c1b11.js"><link rel="prefetch" href="/assets/js/453.2f24142e.js"><link rel="prefetch" href="/assets/js/454.38eaa047.js"><link rel="prefetch" href="/assets/js/455.ea244abb.js"><link rel="prefetch" href="/assets/js/456.b2d26da1.js"><link rel="prefetch" href="/assets/js/457.dcba58a4.js"><link rel="prefetch" href="/assets/js/458.016b23a5.js"><link rel="prefetch" href="/assets/js/459.e2717b0f.js"><link rel="prefetch" href="/assets/js/46.33c7df85.js"><link rel="prefetch" href="/assets/js/460.b98ded97.js"><link rel="prefetch" href="/assets/js/461.787cd047.js"><link rel="prefetch" href="/assets/js/462.1e5ba461.js"><link rel="prefetch" href="/assets/js/463.eb631100.js"><link rel="prefetch" href="/assets/js/464.9841c067.js"><link rel="prefetch" href="/assets/js/465.66038396.js"><link rel="prefetch" href="/assets/js/466.41c2818f.js"><link rel="prefetch" href="/assets/js/467.d1bdfe6d.js"><link rel="prefetch" href="/assets/js/468.f0156771.js"><link rel="prefetch" href="/assets/js/469.e8ff5d06.js"><link rel="prefetch" href="/assets/js/47.73ebd7f9.js"><link rel="prefetch" href="/assets/js/470.0e97beae.js"><link rel="prefetch" href="/assets/js/471.3b055e27.js"><link rel="prefetch" href="/assets/js/472.d2057ab6.js"><link rel="prefetch" href="/assets/js/473.0d55b2c2.js"><link rel="prefetch" href="/assets/js/474.c2471f5d.js"><link rel="prefetch" href="/assets/js/475.282e32a5.js"><link rel="prefetch" href="/assets/js/476.2671538c.js"><link rel="prefetch" href="/assets/js/477.faaef780.js"><link rel="prefetch" href="/assets/js/478.ef5cfbb6.js"><link rel="prefetch" href="/assets/js/479.17913c81.js"><link rel="prefetch" href="/assets/js/48.188d6549.js"><link rel="prefetch" href="/assets/js/480.89396ec2.js"><link rel="prefetch" href="/assets/js/481.7d9af8bd.js"><link rel="prefetch" href="/assets/js/482.b28947b1.js"><link rel="prefetch" href="/assets/js/483.7a4b86fa.js"><link rel="prefetch" href="/assets/js/484.58590a22.js"><link rel="prefetch" href="/assets/js/485.d80ad813.js"><link rel="prefetch" href="/assets/js/486.1ca2e0bb.js"><link rel="prefetch" href="/assets/js/487.85ac34ca.js"><link rel="prefetch" href="/assets/js/488.19f17cba.js"><link rel="prefetch" href="/assets/js/489.9c5e3bf7.js"><link rel="prefetch" href="/assets/js/49.60b4d873.js"><link rel="prefetch" href="/assets/js/490.5037c432.js"><link rel="prefetch" href="/assets/js/491.aad7748d.js"><link rel="prefetch" href="/assets/js/492.ae6e157a.js"><link rel="prefetch" href="/assets/js/493.9ca7c083.js"><link rel="prefetch" href="/assets/js/494.ae5481db.js"><link rel="prefetch" href="/assets/js/495.232e337d.js"><link rel="prefetch" href="/assets/js/496.68cfea35.js"><link rel="prefetch" href="/assets/js/497.7ba31ca7.js"><link rel="prefetch" href="/assets/js/498.92ff52b1.js"><link rel="prefetch" href="/assets/js/499.f12888d6.js"><link rel="prefetch" href="/assets/js/5.c5b940c0.js"><link rel="prefetch" href="/assets/js/50.5ed9c1ec.js"><link rel="prefetch" href="/assets/js/500.26d3ca36.js"><link rel="prefetch" href="/assets/js/501.725dcb7e.js"><link rel="prefetch" href="/assets/js/502.1270051b.js"><link rel="prefetch" href="/assets/js/503.80d1ea82.js"><link rel="prefetch" href="/assets/js/504.dfb2eba5.js"><link rel="prefetch" href="/assets/js/505.d39121df.js"><link rel="prefetch" href="/assets/js/506.12f398ce.js"><link rel="prefetch" href="/assets/js/507.8c6cdee0.js"><link rel="prefetch" href="/assets/js/508.8a321baf.js"><link rel="prefetch" href="/assets/js/509.2d2da978.js"><link rel="prefetch" href="/assets/js/51.055ba882.js"><link rel="prefetch" href="/assets/js/510.375b0cbc.js"><link rel="prefetch" href="/assets/js/511.fc507eba.js"><link rel="prefetch" href="/assets/js/512.429ee885.js"><link rel="prefetch" href="/assets/js/513.3d0ccb69.js"><link rel="prefetch" href="/assets/js/514.4fe3b7f0.js"><link rel="prefetch" href="/assets/js/515.0ac19724.js"><link rel="prefetch" href="/assets/js/516.0f056b61.js"><link rel="prefetch" href="/assets/js/517.4aea4a51.js"><link rel="prefetch" href="/assets/js/518.75819565.js"><link rel="prefetch" href="/assets/js/519.a44727cc.js"><link rel="prefetch" href="/assets/js/52.90d7c8cd.js"><link rel="prefetch" href="/assets/js/520.294f4221.js"><link rel="prefetch" href="/assets/js/521.8eb861b2.js"><link rel="prefetch" href="/assets/js/522.9ebecd3a.js"><link rel="prefetch" href="/assets/js/523.cc887fda.js"><link rel="prefetch" href="/assets/js/524.684649a0.js"><link rel="prefetch" href="/assets/js/525.26401e3b.js"><link rel="prefetch" href="/assets/js/526.719ce1d5.js"><link rel="prefetch" href="/assets/js/527.7e87b47a.js"><link rel="prefetch" href="/assets/js/528.23ce156e.js"><link rel="prefetch" href="/assets/js/529.4a22ba70.js"><link rel="prefetch" href="/assets/js/53.e5228283.js"><link rel="prefetch" href="/assets/js/530.0e733a1d.js"><link rel="prefetch" href="/assets/js/531.fc9f3598.js"><link rel="prefetch" href="/assets/js/532.14d329ef.js"><link rel="prefetch" href="/assets/js/533.e1d68184.js"><link rel="prefetch" href="/assets/js/534.46ffd7f4.js"><link rel="prefetch" href="/assets/js/535.c4233fac.js"><link rel="prefetch" href="/assets/js/536.e2a91624.js"><link rel="prefetch" href="/assets/js/537.d1715cd4.js"><link rel="prefetch" href="/assets/js/538.2817df36.js"><link rel="prefetch" href="/assets/js/539.5d76fe01.js"><link rel="prefetch" href="/assets/js/54.6da1f6e2.js"><link rel="prefetch" href="/assets/js/540.dd958734.js"><link rel="prefetch" href="/assets/js/541.3661942a.js"><link rel="prefetch" href="/assets/js/542.7f8c0400.js"><link rel="prefetch" href="/assets/js/543.b51ecba9.js"><link rel="prefetch" href="/assets/js/544.cdbe4dab.js"><link rel="prefetch" href="/assets/js/545.dd1e0425.js"><link rel="prefetch" href="/assets/js/546.ac77d062.js"><link rel="prefetch" href="/assets/js/547.0e27af1b.js"><link rel="prefetch" href="/assets/js/548.faf7a7f3.js"><link rel="prefetch" href="/assets/js/549.2ce0700f.js"><link rel="prefetch" href="/assets/js/55.0e4d9415.js"><link rel="prefetch" href="/assets/js/550.4a76ce58.js"><link rel="prefetch" href="/assets/js/551.09c3c147.js"><link rel="prefetch" href="/assets/js/552.24879b36.js"><link rel="prefetch" href="/assets/js/553.05189981.js"><link rel="prefetch" href="/assets/js/554.a528cbc9.js"><link rel="prefetch" href="/assets/js/555.777adfac.js"><link rel="prefetch" href="/assets/js/556.e06a7f20.js"><link rel="prefetch" href="/assets/js/557.b8f5ae89.js"><link rel="prefetch" href="/assets/js/558.8d4f2534.js"><link rel="prefetch" href="/assets/js/559.02612005.js"><link rel="prefetch" href="/assets/js/56.1ab0261c.js"><link rel="prefetch" href="/assets/js/560.4961697a.js"><link rel="prefetch" href="/assets/js/561.699c8844.js"><link rel="prefetch" href="/assets/js/562.7e3b935a.js"><link rel="prefetch" href="/assets/js/563.554f0510.js"><link rel="prefetch" href="/assets/js/564.17333238.js"><link rel="prefetch" href="/assets/js/565.04da523f.js"><link rel="prefetch" href="/assets/js/566.544963a0.js"><link rel="prefetch" href="/assets/js/567.6e6dd899.js"><link rel="prefetch" href="/assets/js/568.de2791e0.js"><link rel="prefetch" href="/assets/js/569.9502ec8d.js"><link rel="prefetch" href="/assets/js/57.cc3c9b9c.js"><link rel="prefetch" href="/assets/js/570.99e71b4a.js"><link rel="prefetch" href="/assets/js/571.8364d56f.js"><link rel="prefetch" href="/assets/js/572.596eac68.js"><link rel="prefetch" href="/assets/js/573.0b0562af.js"><link rel="prefetch" href="/assets/js/574.754ad8d2.js"><link rel="prefetch" href="/assets/js/575.6e12ccd3.js"><link rel="prefetch" href="/assets/js/576.8a7f3397.js"><link rel="prefetch" href="/assets/js/577.32b4c7e6.js"><link rel="prefetch" href="/assets/js/578.96054366.js"><link rel="prefetch" href="/assets/js/579.2e660011.js"><link rel="prefetch" href="/assets/js/58.98ea99d1.js"><link rel="prefetch" href="/assets/js/580.805d1da5.js"><link rel="prefetch" href="/assets/js/581.7d6ed819.js"><link rel="prefetch" href="/assets/js/582.9784ecec.js"><link rel="prefetch" href="/assets/js/583.d0bd53bf.js"><link rel="prefetch" href="/assets/js/584.4aa7d0c5.js"><link rel="prefetch" href="/assets/js/585.12b6df77.js"><link rel="prefetch" href="/assets/js/586.70f74689.js"><link rel="prefetch" href="/assets/js/587.2f14c508.js"><link rel="prefetch" href="/assets/js/588.7912f2e0.js"><link rel="prefetch" href="/assets/js/589.e5734a4e.js"><link rel="prefetch" href="/assets/js/59.506b9867.js"><link rel="prefetch" href="/assets/js/590.019b733f.js"><link rel="prefetch" href="/assets/js/591.0f2fe4b5.js"><link rel="prefetch" href="/assets/js/592.06add3ba.js"><link rel="prefetch" href="/assets/js/593.451c2c7f.js"><link rel="prefetch" href="/assets/js/594.fec6fd67.js"><link rel="prefetch" href="/assets/js/595.13faf473.js"><link rel="prefetch" href="/assets/js/596.38859109.js"><link rel="prefetch" href="/assets/js/597.4b90efc6.js"><link rel="prefetch" href="/assets/js/598.58b0188a.js"><link rel="prefetch" href="/assets/js/599.2725a79b.js"><link rel="prefetch" href="/assets/js/6.be045446.js"><link rel="prefetch" href="/assets/js/60.0642c026.js"><link rel="prefetch" href="/assets/js/600.73efc2fd.js"><link rel="prefetch" href="/assets/js/601.ec59857b.js"><link rel="prefetch" href="/assets/js/602.caa7da25.js"><link rel="prefetch" href="/assets/js/603.c87f949c.js"><link rel="prefetch" href="/assets/js/604.781b939f.js"><link rel="prefetch" href="/assets/js/605.8fbba702.js"><link rel="prefetch" href="/assets/js/606.401e3f91.js"><link rel="prefetch" href="/assets/js/607.59264ad0.js"><link rel="prefetch" href="/assets/js/608.cd54302e.js"><link rel="prefetch" href="/assets/js/609.246c4211.js"><link rel="prefetch" href="/assets/js/61.dfbb94c1.js"><link rel="prefetch" href="/assets/js/610.5694be37.js"><link rel="prefetch" href="/assets/js/611.4a593274.js"><link rel="prefetch" href="/assets/js/612.1118a8b1.js"><link rel="prefetch" href="/assets/js/613.5a21217b.js"><link rel="prefetch" href="/assets/js/614.39a62624.js"><link rel="prefetch" href="/assets/js/615.36638fd9.js"><link rel="prefetch" href="/assets/js/616.65ee6776.js"><link rel="prefetch" href="/assets/js/617.f2265357.js"><link rel="prefetch" href="/assets/js/618.7d0d303f.js"><link rel="prefetch" href="/assets/js/619.7c4da883.js"><link rel="prefetch" href="/assets/js/62.b627977b.js"><link rel="prefetch" href="/assets/js/620.1b417b5c.js"><link rel="prefetch" href="/assets/js/621.ff26a584.js"><link rel="prefetch" href="/assets/js/622.fb866dd2.js"><link rel="prefetch" href="/assets/js/623.6aaba041.js"><link rel="prefetch" href="/assets/js/624.9e980c61.js"><link rel="prefetch" href="/assets/js/625.f7b58120.js"><link rel="prefetch" href="/assets/js/626.253a5a8b.js"><link rel="prefetch" href="/assets/js/627.9fe42507.js"><link rel="prefetch" href="/assets/js/628.04df2939.js"><link rel="prefetch" href="/assets/js/629.a1572b93.js"><link rel="prefetch" href="/assets/js/63.847a11c0.js"><link rel="prefetch" href="/assets/js/630.8bd13b35.js"><link rel="prefetch" href="/assets/js/631.5e6f065e.js"><link rel="prefetch" href="/assets/js/632.8f4ea39b.js"><link rel="prefetch" href="/assets/js/633.0a232a2d.js"><link rel="prefetch" href="/assets/js/634.00495da7.js"><link rel="prefetch" href="/assets/js/635.e0be4f94.js"><link rel="prefetch" href="/assets/js/636.cb9026fe.js"><link rel="prefetch" href="/assets/js/637.25271dcb.js"><link rel="prefetch" href="/assets/js/638.fcac68d5.js"><link rel="prefetch" href="/assets/js/639.03ab08cf.js"><link rel="prefetch" href="/assets/js/64.9367ecbc.js"><link rel="prefetch" href="/assets/js/640.a8b218de.js"><link rel="prefetch" href="/assets/js/641.fadf6edc.js"><link rel="prefetch" href="/assets/js/642.81b7dc74.js"><link rel="prefetch" href="/assets/js/643.7d88f22d.js"><link rel="prefetch" href="/assets/js/644.1ec2619a.js"><link rel="prefetch" href="/assets/js/65.d98509f3.js"><link rel="prefetch" href="/assets/js/66.2679f742.js"><link rel="prefetch" href="/assets/js/67.be8ad80e.js"><link rel="prefetch" href="/assets/js/68.ee41ee8e.js"><link rel="prefetch" href="/assets/js/69.c1f11fc4.js"><link rel="prefetch" href="/assets/js/7.03df4ff4.js"><link rel="prefetch" href="/assets/js/70.e516014d.js"><link rel="prefetch" href="/assets/js/71.d5ed1231.js"><link rel="prefetch" href="/assets/js/72.0c23af08.js"><link rel="prefetch" href="/assets/js/73.f8d902ce.js"><link rel="prefetch" href="/assets/js/74.bb0d3876.js"><link rel="prefetch" href="/assets/js/75.c0c6cff8.js"><link rel="prefetch" href="/assets/js/76.37e02e83.js"><link rel="prefetch" href="/assets/js/77.63e8230d.js"><link rel="prefetch" href="/assets/js/78.96994102.js"><link rel="prefetch" href="/assets/js/79.11db88a9.js"><link rel="prefetch" href="/assets/js/8.68bfe519.js"><link rel="prefetch" href="/assets/js/80.53cb9755.js"><link rel="prefetch" href="/assets/js/81.6d4b055a.js"><link rel="prefetch" href="/assets/js/82.2397c136.js"><link rel="prefetch" href="/assets/js/83.60df89c8.js"><link rel="prefetch" href="/assets/js/84.35883c91.js"><link rel="prefetch" href="/assets/js/85.63aff4e0.js"><link rel="prefetch" href="/assets/js/86.694afafd.js"><link rel="prefetch" href="/assets/js/87.258b978b.js"><link rel="prefetch" href="/assets/js/88.0aed517f.js"><link rel="prefetch" href="/assets/js/89.abeffa8e.js"><link rel="prefetch" href="/assets/js/9.fe431f80.js"><link rel="prefetch" href="/assets/js/90.bfd23efa.js"><link rel="prefetch" href="/assets/js/92.1e143730.js"><link rel="prefetch" href="/assets/js/93.6c7aaa41.js"><link rel="prefetch" href="/assets/js/94.9c27cb50.js"><link rel="prefetch" href="/assets/js/95.db8de19f.js"><link rel="prefetch" href="/assets/js/96.c6152e1d.js"><link rel="prefetch" href="/assets/js/97.d231f8a9.js"><link rel="prefetch" href="/assets/js/98.96c57ebe.js"><link rel="prefetch" href="/assets/js/99.42c30508.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b0415a31.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/imgs/kriry-logo.png" alt="kriry技术" class="logo"> <span class="site-name can-hide">kriry技术</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="http://kriry.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  kriry.com
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/read/" class="nav-link">阅读</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Rust</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/rust/" class="nav-link">Rust语言书录</a></li><li class="dropdown-item"><!----> <a href="/rust/rust/book/" class="nav-link">Rust编程语言</a></li><li class="dropdown-item"><!----> <a href="/rust/rust/advrust/" class="nav-link">Rust高级编程</a></li><li class="dropdown-item"><!----> <a href="/rust/rust/reference/" class="nav-link">Rust语言参考</a></li><li class="dropdown-item"><!----> <a href="https://dev.kriry.com/www/rust/std" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Rust标准库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="/rust/rust/async-rust/" class="nav-link">Rust异步编程</a></li><li class="dropdown-item"><!----> <a href="/rust/rust/cargo/" class="nav-link">Cargo教程</a></li><li class="dropdown-item"><!----> <a href="/rust/rust/discovery/" class="nav-link">中文《Discovery》</a></li><li class="dropdown-item"><!----> <a href="/rust/user/book-exp/" class="nav-link">The Book-学习心得</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Web开发</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/web/css/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/web/webapi/" class="nav-link">WebAPI</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dba/postgresql/" class="nav-link">PostgreSQL</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">操作系统</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/os/harmony/" class="nav-link">Harmony</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">协议</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/protocol/http2/" class="nav-link">HTTP2</a></li><li class="dropdown-item"><!----> <a href="/protocol/http3/" class="nav-link">HTTP3</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/framework/actix/" class="nav-link">Actix</a></li><li class="dropdown-item"><!----> <a href="/framework/tokio/" class="nav-link">Tokio</a></li><li class="dropdown-item"><!----> <a href="/framework/serde/" class="nav-link router-link-active">Serde</a></li><li class="dropdown-item"><!----> <a href="/framework/riker/" class="nav-link">Riker</a></li><li class="dropdown-item"><!----> <a href="/framework/diesel/" class="nav-link">Diesel</a></li></ul></div></div><div class="nav-item"><a href="https://weibo.com/kriry?is_all=1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微博
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/kriry/kriry-dev" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="http://kriry.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  kriry.com
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/read/" class="nav-link">阅读</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Rust</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/rust/" class="nav-link">Rust语言书录</a></li><li class="dropdown-item"><!----> <a href="/rust/rust/book/" class="nav-link">Rust编程语言</a></li><li class="dropdown-item"><!----> <a href="/rust/rust/advrust/" class="nav-link">Rust高级编程</a></li><li class="dropdown-item"><!----> <a href="/rust/rust/reference/" class="nav-link">Rust语言参考</a></li><li class="dropdown-item"><!----> <a href="https://dev.kriry.com/www/rust/std" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Rust标准库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="/rust/rust/async-rust/" class="nav-link">Rust异步编程</a></li><li class="dropdown-item"><!----> <a href="/rust/rust/cargo/" class="nav-link">Cargo教程</a></li><li class="dropdown-item"><!----> <a href="/rust/rust/discovery/" class="nav-link">中文《Discovery》</a></li><li class="dropdown-item"><!----> <a href="/rust/user/book-exp/" class="nav-link">The Book-学习心得</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Web开发</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/web/css/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/web/webapi/" class="nav-link">WebAPI</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dba/postgresql/" class="nav-link">PostgreSQL</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">操作系统</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/os/harmony/" class="nav-link">Harmony</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">协议</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/protocol/http2/" class="nav-link">HTTP2</a></li><li class="dropdown-item"><!----> <a href="/protocol/http3/" class="nav-link">HTTP3</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/framework/actix/" class="nav-link">Actix</a></li><li class="dropdown-item"><!----> <a href="/framework/tokio/" class="nav-link">Tokio</a></li><li class="dropdown-item"><!----> <a href="/framework/serde/" class="nav-link router-link-active">Serde</a></li><li class="dropdown-item"><!----> <a href="/framework/riker/" class="nav-link">Riker</a></li><li class="dropdown-item"><!----> <a href="/framework/diesel/" class="nav-link">Diesel</a></li></ul></div></div><div class="nav-item"><a href="https://weibo.com/kriry?is_all=1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微博
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/kriry/kriry-dev" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/framework/serde/" class="sidebar-link">Serde</a></li><li><a href="/framework/serde/help.html" class="sidebar-link">获得帮助</a></li><li><a href="/framework/serde/data-model.html" class="sidebar-link">Serde数据模型</a></li><li><a href="/framework/serde/derive.html" class="sidebar-link">使用Derive</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>属性</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>自定义序列化</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>编写数据格式</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/framework/serde/data/data-format.html" class="sidebar-link">Writing a data format</a></li><li><a href="/framework/serde/data/conventions.html" class="sidebar-link">Conventions</a></li><li><a href="/framework/serde/data/error-handling.html" class="sidebar-link">Error handling</a></li><li><a href="/framework/serde/data/impl-serializer.html" class="sidebar-link">Implementing a Serializer</a></li><li><a href="/framework/serde/data/impl-deserializer.html" class="active sidebar-link">Implementing a Deserializer</a></li></ul></div></li><li><a href="/framework/serde/lifetimes.html" class="sidebar-link">Deserializer生命周期</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>示例</span> <span class="arrow right"></span></p> <!----></div></li><li><a href="/framework/serde/no-std.html" class="sidebar-link">No-std支持</a></li><li><a href="/framework/serde/feature-flags.html" class="sidebar-link">Feature标志</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="implementing-a-deserializer"><a href="#implementing-a-deserializer" aria-hidden="true" class="header-anchor">#</a> Implementing a Deserializer</h1> <p>This page gives a basic but functional implementation of a JSON deserializer
using Serde.</p> <p>As with the serializer, the <a href="https://docs.serde.rs/serde/de/trait.Deserializer.html" target="_blank" rel="noopener noreferrer"><code>Deserializer</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> trait has a lot of methods but none
of them are complicated in this implementation. The deserializer is responsible
for mapping the input data into <a href="/framework/serde/data/data-model.html">Serde's data model</a> by invoking exactly one of
the methods on the <a href="https://docs.serde.rs/serde/de/trait.Visitor.html" target="_blank" rel="noopener noreferrer"><code>Visitor</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> that it receives.</p> <p>The <code>Deserializer</code> methods are called by a <code>Deserialize</code> impl as a hint to
indicate what Serde data model type the <code>Deserialize</code> type expects to see in the
input. For self-describing formats like JSON, it is fine for the <code>Deserializer</code>
to ignore this hint and just call whichever <code>Visitor</code> method corresponds to the
content of the input data. Other formats, especially compact binary formats like
Bincode, rely on the hint to determine how the input data is to be interpreted.</p> <p>Self-describing formats can save a lot of code by using the
<a href="https://docs.serde.rs/serde/macro.forward_to_deserialize_any.html" target="_blank" rel="noopener noreferrer"><code>forward_to_deserialize_any!</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> macro to ignore hints and forward some or all of
the methods of the <code>Deserializer</code> trait to the <code>deserialize_any</code> method.</p> <p>The code below implements every method explicitly for documentation purposes but
there is no advantage to that.</p> <p><a href="/framework/serde/data/lifetimes.html">Deserializer lifetimes</a> have their own dedicated page.</p> <p>!FILENAME src/de.rs</p> <div class="language-rust extra-class"><pre class="language-rust"><code># <span class="token attribute attr-name">#[macro_use]</span>
# <span class="token keyword">extern</span> <span class="token keyword">crate</span> serde_derive<span class="token punctuation">;</span>
#
# <span class="token keyword">extern</span> <span class="token keyword">crate</span> serde<span class="token punctuation">;</span>
#
# <span class="token keyword">mod</span> error <span class="token punctuation">{</span>
#     <span class="token keyword">use</span> std<span class="token punctuation">;</span>
#     <span class="token keyword">use</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>fmt<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token keyword">self</span><span class="token punctuation">,</span> Display<span class="token punctuation">}</span><span class="token punctuation">;</span>
#
#     <span class="token keyword">use</span> serde<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token punctuation">{</span>ser<span class="token punctuation">,</span> de<span class="token punctuation">}</span><span class="token punctuation">;</span>
#
#     <span class="token keyword">pub</span> <span class="token keyword">type</span> Result<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">:</span><span class="token punctuation">:</span>std<span class="token punctuation">:</span><span class="token punctuation">:</span>result<span class="token punctuation">:</span><span class="token punctuation">:</span>Result<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Error<span class="token operator">&gt;</span><span class="token punctuation">;</span>
#
#     <span class="token attribute attr-name">#[derive(Clone, Debug, PartialEq)]</span>
#     <span class="token keyword">pub</span> <span class="token keyword">enum</span> Error <span class="token punctuation">{</span>
#         <span class="token function">Message</span><span class="token punctuation">(</span>String<span class="token punctuation">)</span><span class="token punctuation">,</span>
#         Eof<span class="token punctuation">,</span>
#         Syntax<span class="token punctuation">,</span>
#         ExpectedBoolean<span class="token punctuation">,</span>
#         ExpectedInteger<span class="token punctuation">,</span>
#         ExpectedString<span class="token punctuation">,</span>
#         ExpectedNull<span class="token punctuation">,</span>
#         ExpectedArray<span class="token punctuation">,</span>
#         ExpectedArrayComma<span class="token punctuation">,</span>
#         ExpectedArrayEnd<span class="token punctuation">,</span>
#         ExpectedMap<span class="token punctuation">,</span>
#         ExpectedMapColon<span class="token punctuation">,</span>
#         ExpectedMapComma<span class="token punctuation">,</span>
#         ExpectedMapEnd<span class="token punctuation">,</span>
#         ExpectedEnum<span class="token punctuation">,</span>
#         TrailingCharacters<span class="token punctuation">,</span>
#     <span class="token punctuation">}</span>
#
#     <span class="token keyword">impl</span> ser<span class="token punctuation">:</span><span class="token punctuation">:</span>Error <span class="token keyword">for</span> Error <span class="token punctuation">{</span>
#         <span class="token keyword">fn</span> custom<span class="token operator">&lt;</span>T<span class="token punctuation">:</span> Display<span class="token operator">&gt;</span><span class="token punctuation">(</span>msg<span class="token punctuation">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Self <span class="token punctuation">{</span>
#             Error<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">Message</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
#         <span class="token punctuation">}</span>
#     <span class="token punctuation">}</span>
#
#     <span class="token keyword">impl</span> de<span class="token punctuation">:</span><span class="token punctuation">:</span>Error <span class="token keyword">for</span> Error <span class="token punctuation">{</span>
#         <span class="token keyword">fn</span> custom<span class="token operator">&lt;</span>T<span class="token punctuation">:</span> Display<span class="token operator">&gt;</span><span class="token punctuation">(</span>msg<span class="token punctuation">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Self <span class="token punctuation">{</span>
#             Error<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">Message</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
#         <span class="token punctuation">}</span>
#     <span class="token punctuation">}</span>
#
#     <span class="token keyword">impl</span> Display <span class="token keyword">for</span> Error <span class="token punctuation">{</span>
#         <span class="token keyword">fn</span> <span class="token function">fmt</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">,</span> formatter<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> fmt<span class="token punctuation">:</span><span class="token punctuation">:</span>Formatter<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> fmt<span class="token punctuation">:</span><span class="token punctuation">:</span>Result <span class="token punctuation">{</span>
#             formatter<span class="token punctuation">.</span><span class="token function">write_str</span><span class="token punctuation">(</span>std<span class="token punctuation">:</span><span class="token punctuation">:</span>error<span class="token punctuation">:</span><span class="token punctuation">:</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
#         <span class="token punctuation">}</span>
#     <span class="token punctuation">}</span>
#
#     <span class="token keyword">impl</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>error<span class="token punctuation">:</span><span class="token punctuation">:</span>Error <span class="token keyword">for</span> Error <span class="token punctuation">{</span>
#         <span class="token keyword">fn</span> <span class="token function">description</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token operator">&amp;</span>str <span class="token punctuation">{</span>
#             <span class="token keyword">match</span> <span class="token operator">*</span><span class="token keyword">self</span> <span class="token punctuation">{</span>
#                 Error<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">Message</span><span class="token punctuation">(</span><span class="token keyword">ref</span> msg<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> msg<span class="token punctuation">,</span>
#                 Error<span class="token punctuation">:</span><span class="token punctuation">:</span>Eof <span class="token operator">=&gt;</span> <span class="token string">&quot;unexpected end of input&quot;</span><span class="token punctuation">,</span>
#                 <span class="token comment">/* and so forth */</span>
#                 _ <span class="token operator">=&gt;</span> <span class="token function">unimplemented!</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
#             <span class="token punctuation">}</span>
#         <span class="token punctuation">}</span>
#     <span class="token punctuation">}</span>
# <span class="token punctuation">}</span>
#
<span class="token keyword">use</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>ops<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token punctuation">{</span>AddAssign<span class="token punctuation">,</span> MulAssign<span class="token punctuation">,</span> Neg<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> serde<span class="token punctuation">:</span><span class="token punctuation">:</span>de<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token punctuation">{</span>
    <span class="token keyword">self</span><span class="token punctuation">,</span> Deserialize<span class="token punctuation">,</span> DeserializeSeed<span class="token punctuation">,</span> EnumAccess<span class="token punctuation">,</span> IntoDeserializer<span class="token punctuation">,</span>
    MapAccess<span class="token punctuation">,</span> SeqAccess<span class="token punctuation">,</span> VariantAccess<span class="token punctuation">,</span> Visitor<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> error<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token punctuation">{</span>Error<span class="token punctuation">,</span> Result<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">pub</span> <span class="token keyword">struct</span> Deserializer<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// This string starts with the input data and characters are truncated off</span>
    <span class="token comment">// the beginning as data is parsed.</span>
    input<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'de</span> str<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">impl</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> Deserializer<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// By convention, `Deserializer` constructors are named like `from_xyz`.</span>
    <span class="token comment">// That way basic use cases are satisfied by something like</span>
    <span class="token comment">// `serde_json::from_str(...)` while advanced use cases that require a</span>
    <span class="token comment">// deserializer can make one with `serde_json::Deserializer::from_str(...)`.</span>
    <span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function">from_str</span><span class="token punctuation">(</span>input<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'de</span> str<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Self <span class="token punctuation">{</span>
        Deserializer <span class="token punctuation">{</span> input <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// By convention, the public API of a Serde deserializer is one or more</span>
<span class="token comment">// `from_xyz` methods such as `from_str`, `from_bytes`, or `from_reader`</span>
<span class="token comment">// depending on what Rust types the deserializer is able to consume as input.</span>
<span class="token comment">//</span>
<span class="token comment">// This basic deserializer supports only `from_str`.</span>
<span class="token keyword">pub</span> <span class="token keyword">fn</span> from_str<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a,</span> T<span class="token operator">&gt;</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> str<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span>
<span class="token keyword">where</span>
    T<span class="token punctuation">:</span> Deserialize<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> deserializer <span class="token operator">=</span> Deserializer<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">from_str</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> t <span class="token operator">=</span> T<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">deserialize</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> deserializer<span class="token punctuation">)</span>?<span class="token punctuation">;</span>
    <span class="token keyword">if</span> deserializer<span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">is_empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">Ok</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>TrailingCharacters<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// SERDE IS NOT A PARSING LIBRARY. This impl block defines a few basic parsing</span>
<span class="token comment">// functions from scratch. More complicated formats may wish to use a dedicated</span>
<span class="token comment">// parsing library to help implement their Serde deserializer.</span>
<span class="token keyword">impl</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> Deserializer<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Look at the first character in the input without consuming it.</span>
    <span class="token keyword">fn</span> <span class="token function">peek_char</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>char<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">chars</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ok_or</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>Eof<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Consume the first character in the input.</span>
    <span class="token keyword">fn</span> <span class="token function">next_char</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>char<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> ch <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">peek_char</span><span class="token punctuation">(</span><span class="token punctuation">)</span>?<span class="token punctuation">;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>input <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span>input<span class="token punctuation">[</span>ch<span class="token punctuation">.</span><span class="token function">len_utf8</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">..</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">Ok</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Parse the JSON identifier `true` or `false`.</span>
    <span class="token keyword">fn</span> <span class="token function">parse_bool</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>bool<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token keyword">self</span><span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">starts_with</span><span class="token punctuation">(</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>input <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">..</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token function">Ok</span><span class="token punctuation">(</span><span class="token keyword">true</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token keyword">self</span><span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">starts_with</span><span class="token punctuation">(</span><span class="token string">&quot;false&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>input <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token string">&quot;false&quot;</span><span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">..</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token function">Ok</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>ExpectedBoolean<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Parse a group of decimal digits as an unsigned integer of type T.</span>
    <span class="token comment">//</span>
    <span class="token comment">// This implementation is a bit too lenient, for example `001` is not</span>
    <span class="token comment">// allowed in JSON. Also the various arithmetic operations can overflow and</span>
    <span class="token comment">// panic or return bogus data. But it is good enough for example code!</span>
    <span class="token keyword">fn</span> parse_unsigned<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        T<span class="token punctuation">:</span> AddAssign<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">+</span> MulAssign<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">+</span> From<span class="token operator">&lt;</span>u8<span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">let</span> <span class="token keyword">mut</span> int <span class="token operator">=</span> <span class="token keyword">match</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">next_char</span><span class="token punctuation">(</span><span class="token punctuation">)</span>? <span class="token punctuation">{</span>
            ch <span class="token operator">@</span> <span class="token char string">'0'</span><span class="token punctuation">...</span><span class="token char string">'9'</span> <span class="token operator">=&gt;</span> T<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">from</span><span class="token punctuation">(</span>ch <span class="token keyword">as</span> u8 <span class="token operator">-</span> <span class="token char string">b'0'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            _ <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>ExpectedInteger<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">loop</span> <span class="token punctuation">{</span>
            <span class="token keyword">match</span> <span class="token keyword">self</span><span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">chars</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">Some</span><span class="token punctuation">(</span>ch <span class="token operator">@</span> <span class="token char string">'0'</span><span class="token punctuation">...</span><span class="token char string">'9'</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">self</span><span class="token punctuation">.</span>input <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                    int <span class="token operator">*=</span> T<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    int <span class="token operator">+=</span> T<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">from</span><span class="token punctuation">(</span>ch <span class="token keyword">as</span> u8 <span class="token operator">-</span> <span class="token char string">b'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                _ <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token function">Ok</span><span class="token punctuation">(</span>int<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Parse a possible minus sign followed by a group of decimal digits as a</span>
    <span class="token comment">// signed integer of type T.</span>
    <span class="token keyword">fn</span> parse_signed<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        T<span class="token punctuation">:</span> Neg<span class="token operator">&lt;</span>Output <span class="token operator">=</span> T<span class="token operator">&gt;</span> <span class="token operator">+</span> AddAssign<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">+</span> MulAssign<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">+</span> From<span class="token operator">&lt;</span>i8<span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Optional minus sign, delegate to `parse_unsigned`, negate if negative.</span>
        <span class="token function">unimplemented!</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Parse a string until the next '&quot;' character.</span>
    <span class="token comment">//</span>
    <span class="token comment">// Makes no attempt to handle escape sequences. What did you expect? This is</span>
    <span class="token comment">// example code!</span>
    <span class="token keyword">fn</span> <span class="token function">parse_string</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'de</span> str<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">next_char</span><span class="token punctuation">(</span><span class="token punctuation">)</span>? <span class="token operator">!=</span> <span class="token char string">'&quot;'</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>ExpectedString<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">match</span> <span class="token keyword">self</span><span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token char string">'&quot;'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">Some</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token punctuation">..</span>len<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">self</span><span class="token punctuation">.</span>input <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span>input<span class="token punctuation">[</span>len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">..</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token function">Ok</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            None <span class="token operator">=&gt;</span> <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>Eof<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">impl</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de,</span> <span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> de<span class="token punctuation">:</span><span class="token punctuation">:</span>Deserializer<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> <span class="token keyword">for</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword">mut</span> Deserializer<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">type</span> Error <span class="token operator">=</span> Error<span class="token punctuation">;</span>

    <span class="token comment">// Look at the input data to decide what Serde data model type to</span>
    <span class="token comment">// deserialize as. Not all data formats are able to support this operation.</span>
    <span class="token comment">// Formats that support `deserialize_any` are known as self-describing.</span>
    <span class="token keyword">fn</span> deserialize_any<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">match</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">peek_char</span><span class="token punctuation">(</span><span class="token punctuation">)</span>? <span class="token punctuation">{</span>
            <span class="token char string">'n'</span> <span class="token operator">=&gt;</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">deserialize_unit</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token char string">'t'</span> <span class="token operator">|</span> <span class="token char string">'f'</span> <span class="token operator">=&gt;</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">deserialize_bool</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token char string">'&quot;'</span> <span class="token operator">=&gt;</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">deserialize_str</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token char string">'0'</span><span class="token punctuation">...</span><span class="token char string">'9'</span> <span class="token operator">=&gt;</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">deserialize_u64</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token char string">'-'</span> <span class="token operator">=&gt;</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">deserialize_i64</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token char string">'['</span> <span class="token operator">=&gt;</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">deserialize_seq</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token char string">'{'</span> <span class="token operator">=&gt;</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">deserialize_map</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span><span class="token punctuation">,</span>
            _ <span class="token operator">=&gt;</span> <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>Syntax<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Uses the `parse_bool` parsing function defined above to read the JSON</span>
    <span class="token comment">// identifier `true` or `false` from the input.</span>
    <span class="token comment">//</span>
    <span class="token comment">// Parsing refers to looking at the input and deciding that it contains the</span>
    <span class="token comment">// JSON value `true` or `false`.</span>
    <span class="token comment">//</span>
    <span class="token comment">// Deserialization refers to mapping that JSON value into Serde's data</span>
    <span class="token comment">// model by invoking one of the `Visitor` methods. In the case of JSON and</span>
    <span class="token comment">// bool that mapping is straightforward so the distinction may seem silly,</span>
    <span class="token comment">// but in other cases Deserializers sometimes perform non-obvious mappings.</span>
    <span class="token comment">// For example the TOML format has a Datetime type and Serde's data model</span>
    <span class="token comment">// does not. In the `toml` crate, a Datetime in the input is deserialized by</span>
    <span class="token comment">// mapping it to a Serde data model &quot;struct&quot; type with a special name and a</span>
    <span class="token comment">// single field containing the Datetime represented as a string.</span>
    <span class="token keyword">fn</span> deserialize_bool<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        visitor<span class="token punctuation">.</span><span class="token function">visit_bool</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">parse_bool</span><span class="token punctuation">(</span><span class="token punctuation">)</span>?<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// The `parse_signed` function is generic over the integer type `T` so here</span>
    <span class="token comment">// it is invoked with `T=i8`. The next 8 methods are similar.</span>
    <span class="token keyword">fn</span> deserialize_i8<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        visitor<span class="token punctuation">.</span><span class="token function">visit_i8</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">parse_signed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>?<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fn</span> deserialize_i16<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        visitor<span class="token punctuation">.</span><span class="token function">visit_i16</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">parse_signed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>?<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fn</span> deserialize_i32<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        visitor<span class="token punctuation">.</span><span class="token function">visit_i32</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">parse_signed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>?<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fn</span> deserialize_i64<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        visitor<span class="token punctuation">.</span><span class="token function">visit_i64</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">parse_signed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>?<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fn</span> deserialize_u8<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        visitor<span class="token punctuation">.</span><span class="token function">visit_u8</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">parse_unsigned</span><span class="token punctuation">(</span><span class="token punctuation">)</span>?<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fn</span> deserialize_u16<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        visitor<span class="token punctuation">.</span><span class="token function">visit_u16</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">parse_unsigned</span><span class="token punctuation">(</span><span class="token punctuation">)</span>?<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fn</span> deserialize_u32<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        visitor<span class="token punctuation">.</span><span class="token function">visit_u32</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">parse_unsigned</span><span class="token punctuation">(</span><span class="token punctuation">)</span>?<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fn</span> deserialize_u64<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        visitor<span class="token punctuation">.</span><span class="token function">visit_u64</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">parse_unsigned</span><span class="token punctuation">(</span><span class="token punctuation">)</span>?<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Float parsing is stupidly hard.</span>
    <span class="token keyword">fn</span> deserialize_f32<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> _visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token function">unimplemented!</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Float parsing is stupidly hard.</span>
    <span class="token keyword">fn</span> deserialize_f64<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> _visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token function">unimplemented!</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// The `Serializer` implementation on the previous page serialized chars as</span>
    <span class="token comment">// single-character strings so handle that representation here.</span>
    <span class="token keyword">fn</span> deserialize_char<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> _visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Parse a string, check that it is one character, call `visit_char`.</span>
        <span class="token function">unimplemented!</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Refer to the &quot;Understanding deserializer lifetimes&quot; page for information</span>
    <span class="token comment">// about the three deserialization flavors of strings in Serde.</span>
    <span class="token keyword">fn</span> deserialize_str<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        visitor<span class="token punctuation">.</span><span class="token function">visit_borrowed_str</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">parse_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span>?<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fn</span> deserialize_string<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">deserialize_str</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// The `Serializer` implementation on the previous page serialized byte</span>
    <span class="token comment">// arrays as JSON arrays of bytes. Handle that representation here.</span>
    <span class="token keyword">fn</span> deserialize_bytes<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> _visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token function">unimplemented!</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fn</span> deserialize_byte_buf<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> _visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token function">unimplemented!</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// An absent optional is represented as the JSON `null` and a present</span>
    <span class="token comment">// optional is represented as just the contained value.</span>
    <span class="token comment">//</span>
    <span class="token comment">// As commented in `Serializer` implementation, this is a lossy</span>
    <span class="token comment">// representation. For example the values `Some(())` and `None` both</span>
    <span class="token comment">// serialize as just `null`. Unfortunately this is typically what people</span>
    <span class="token comment">// expect when working with JSON. Other formats are encouraged to behave</span>
    <span class="token comment">// more intelligently if possible.</span>
    <span class="token keyword">fn</span> deserialize_option<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token keyword">self</span><span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">starts_with</span><span class="token punctuation">(</span><span class="token string">&quot;null&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>input <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token string">&quot;null&quot;</span><span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">..</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            visitor<span class="token punctuation">.</span><span class="token function">visit_none</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            visitor<span class="token punctuation">.</span><span class="token function">visit_some</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// In Serde, unit means an anonymous value containing no data.</span>
    <span class="token keyword">fn</span> deserialize_unit<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token keyword">self</span><span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">starts_with</span><span class="token punctuation">(</span><span class="token string">&quot;null&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>input <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span>input<span class="token punctuation">[</span><span class="token string">&quot;null&quot;</span><span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">..</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            visitor<span class="token punctuation">.</span><span class="token function">visit_unit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>ExpectedNull<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Unit struct means a named value containing no data.</span>
    <span class="token keyword">fn</span> deserialize_unit_struct<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span>
        <span class="token keyword">self</span><span class="token punctuation">,</span>
        _name<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> str<span class="token punctuation">,</span>
        visitor<span class="token punctuation">:</span> V<span class="token punctuation">,</span>
    <span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">deserialize_unit</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// As is done here, serializers are encouraged to treat newtype structs as</span>
    <span class="token comment">// insignificant wrappers around the data they contain. That means not</span>
    <span class="token comment">// parsing anything other than the contained value.</span>
    <span class="token keyword">fn</span> deserialize_newtype_struct<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span>
        <span class="token keyword">self</span><span class="token punctuation">,</span>
        _name<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> str<span class="token punctuation">,</span>
        visitor<span class="token punctuation">:</span> V<span class="token punctuation">,</span>
    <span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        visitor<span class="token punctuation">.</span><span class="token function">visit_newtype_struct</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Deserialization of compound types like sequences and maps happens by</span>
    <span class="token comment">// passing the visitor an &quot;Access&quot; object that gives it the ability to</span>
    <span class="token comment">// iterate through the data contained in the sequence.</span>
    <span class="token keyword">fn</span> deserialize_seq<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Parse the opening bracket of the sequence.</span>
        <span class="token keyword">if</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">next_char</span><span class="token punctuation">(</span><span class="token punctuation">)</span>? <span class="token operator">==</span> <span class="token char string">'['</span> <span class="token punctuation">{</span>
            <span class="token comment">// Give the visitor access to each element of the sequence.</span>
            <span class="token keyword">let</span> value <span class="token operator">=</span> visitor<span class="token punctuation">.</span><span class="token function">visit_seq</span><span class="token punctuation">(</span>CommaSeparated<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">)</span><span class="token punctuation">)</span>?<span class="token punctuation">;</span>
            <span class="token comment">// Parse the closing bracket of the sequence.</span>
            <span class="token keyword">if</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">next_char</span><span class="token punctuation">(</span><span class="token punctuation">)</span>? <span class="token operator">==</span> <span class="token char string">']'</span> <span class="token punctuation">{</span>
                <span class="token function">Ok</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>ExpectedArrayEnd<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>ExpectedArray<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Tuples look just like sequences in JSON. Some formats may be able to</span>
    <span class="token comment">// represent tuples more efficiently.</span>
    <span class="token comment">//</span>
    <span class="token comment">// As indicated by the length parameter, the `Deserialize` implementation</span>
    <span class="token comment">// for a tuple in the Serde data model is required to know the length of the</span>
    <span class="token comment">// tuple before even looking at the input data.</span>
    <span class="token keyword">fn</span> deserialize_tuple<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> _len<span class="token punctuation">:</span> usize<span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">deserialize_seq</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Tuple structs look just like sequences in JSON.</span>
    <span class="token keyword">fn</span> deserialize_tuple_struct<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span>
        <span class="token keyword">self</span><span class="token punctuation">,</span>
        _name<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> str<span class="token punctuation">,</span>
        _len<span class="token punctuation">:</span> usize<span class="token punctuation">,</span>
        visitor<span class="token punctuation">:</span> V<span class="token punctuation">,</span>
    <span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">deserialize_seq</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Much like `deserialize_seq` but calls the visitors `visit_map` method</span>
    <span class="token comment">// with a `MapAccess` implementation, rather than the visitor's `visit_seq`</span>
    <span class="token comment">// method with a `SeqAccess` implementation.</span>
    <span class="token keyword">fn</span> deserialize_map<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Parse the opening brace of the map.</span>
        <span class="token keyword">if</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">next_char</span><span class="token punctuation">(</span><span class="token punctuation">)</span>? <span class="token operator">==</span> <span class="token char string">'{'</span> <span class="token punctuation">{</span>
            <span class="token comment">// Give the visitor access to each entry of the map.</span>
            <span class="token keyword">let</span> value <span class="token operator">=</span> visitor<span class="token punctuation">.</span><span class="token function">visit_map</span><span class="token punctuation">(</span>CommaSeparated<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">)</span><span class="token punctuation">)</span>?<span class="token punctuation">;</span>
            <span class="token comment">// Parse the closing brace of the map.</span>
            <span class="token keyword">if</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">next_char</span><span class="token punctuation">(</span><span class="token punctuation">)</span>? <span class="token operator">==</span> <span class="token char string">'}'</span> <span class="token punctuation">{</span>
                <span class="token function">Ok</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>ExpectedMapEnd<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>ExpectedMap<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Structs look just like maps in JSON.</span>
    <span class="token comment">//</span>
    <span class="token comment">// Notice the `fields` parameter - a &quot;struct&quot; in the Serde data model means</span>
    <span class="token comment">// that the `Deserialize` implementation is required to know what the fields</span>
    <span class="token comment">// are before even looking at the input data. Any key-value pairing in which</span>
    <span class="token comment">// the fields cannot be known ahead of time is probably a map.</span>
    <span class="token keyword">fn</span> deserialize_struct<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span>
        <span class="token keyword">self</span><span class="token punctuation">,</span>
        _name<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> str<span class="token punctuation">,</span>
        _fields<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> str<span class="token punctuation">]</span><span class="token punctuation">,</span>
        visitor<span class="token punctuation">:</span> V<span class="token punctuation">,</span>
    <span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">deserialize_map</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fn</span> deserialize_enum<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span>
        <span class="token keyword">self</span><span class="token punctuation">,</span>
        _name<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> str<span class="token punctuation">,</span>
        _variants<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> str<span class="token punctuation">]</span><span class="token punctuation">,</span>
        visitor<span class="token punctuation">:</span> V<span class="token punctuation">,</span>
    <span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">peek_char</span><span class="token punctuation">(</span><span class="token punctuation">)</span>? <span class="token operator">==</span> <span class="token char string">'&quot;'</span> <span class="token punctuation">{</span>
            <span class="token comment">// Visit a unit variant.</span>
            visitor<span class="token punctuation">.</span><span class="token function">visit_enum</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">parse_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span>?<span class="token punctuation">.</span><span class="token function">into_deserializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">next_char</span><span class="token punctuation">(</span><span class="token punctuation">)</span>? <span class="token operator">==</span> <span class="token char string">'{'</span> <span class="token punctuation">{</span>
            <span class="token comment">// Visit a newtype variant, tuple variant, or struct variant.</span>
            <span class="token keyword">let</span> value <span class="token operator">=</span> visitor<span class="token punctuation">.</span><span class="token function">visit_enum</span><span class="token punctuation">(</span>Enum<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">)</span><span class="token punctuation">)</span>?<span class="token punctuation">;</span>
            <span class="token comment">// Parse the matching close brace.</span>
            <span class="token keyword">if</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">next_char</span><span class="token punctuation">(</span><span class="token punctuation">)</span>? <span class="token operator">==</span> <span class="token char string">'}'</span> <span class="token punctuation">{</span>
                <span class="token function">Ok</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>ExpectedMapEnd<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>ExpectedEnum<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// An identifier in Serde is the type that identifies a field of a struct or</span>
    <span class="token comment">// the variant of an enum. In JSON, struct fields and enum variants are</span>
    <span class="token comment">// represented as strings. In other formats they may be represented as</span>
    <span class="token comment">// numeric indices.</span>
    <span class="token keyword">fn</span> deserialize_identifier<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">deserialize_str</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Like `deserialize_any` but indicates to the `Deserializer` that it makes</span>
    <span class="token comment">// no difference which `Visitor` method is called because the data is</span>
    <span class="token comment">// ignored.</span>
    <span class="token comment">//</span>
    <span class="token comment">// Some deserializers are able to implement this more efficiently than</span>
    <span class="token comment">// `deserialize_any`, for example by rapidly skipping over matched</span>
    <span class="token comment">// delimiters without paying close attention to the data in between.</span>
    <span class="token comment">//</span>
    <span class="token comment">// Some formats are not able to implement this at all. Formats that can</span>
    <span class="token comment">// implement `deserialize_any` and `deserialize_ignored_any` are known as</span>
    <span class="token comment">// self-describing.</span>
    <span class="token keyword">fn</span> deserialize_ignored_any<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">deserialize_any</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// In order to handle commas correctly when deserializing a JSON array or map,</span>
<span class="token comment">// we need to track whether we are on the first element or past the first</span>
<span class="token comment">// element.</span>
<span class="token keyword">struct</span> CommaSeparated<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a,</span> <span class="token lifetime-annotation symbol">'de:</span> <span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    de<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword">mut</span> Deserializer<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    first<span class="token punctuation">:</span> bool<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">impl</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a,</span> <span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> CommaSeparated<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a,</span> <span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function">new</span><span class="token punctuation">(</span>de<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword">mut</span> Deserializer<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Self <span class="token punctuation">{</span>
        CommaSeparated <span class="token punctuation">{</span>
            de<span class="token punctuation">,</span>
            first<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// `SeqAccess` is provided to the `Visitor` to give it the ability to iterate</span>
<span class="token comment">// through elements of the sequence.</span>
<span class="token keyword">impl</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de,</span> <span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> SeqAccess<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> <span class="token keyword">for</span> CommaSeparated<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a,</span> <span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">type</span> Error <span class="token operator">=</span> Error<span class="token punctuation">;</span>

    <span class="token keyword">fn</span> next_element_seed<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">,</span> seed<span class="token punctuation">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>Option<span class="token operator">&lt;</span>T<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;&gt;</span>
    <span class="token keyword">where</span>
        T<span class="token punctuation">:</span> DeserializeSeed<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Check if there are no more elements.</span>
        <span class="token keyword">if</span> <span class="token keyword">self</span><span class="token punctuation">.</span>de<span class="token punctuation">.</span><span class="token function">peek_char</span><span class="token punctuation">(</span><span class="token punctuation">)</span>? <span class="token operator">==</span> <span class="token char string">']'</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">Ok</span><span class="token punctuation">(</span>None<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// Comma is required before every element except the first.</span>
        <span class="token keyword">if</span> <span class="token operator">!</span><span class="token keyword">self</span><span class="token punctuation">.</span>first <span class="token operator">&amp;&amp;</span> <span class="token keyword">self</span><span class="token punctuation">.</span>de<span class="token punctuation">.</span><span class="token function">next_char</span><span class="token punctuation">(</span><span class="token punctuation">)</span>? <span class="token operator">!=</span> <span class="token char string">','</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>ExpectedArrayComma<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
        <span class="token comment">// Deserialize an array element.</span>
        seed<span class="token punctuation">.</span><span class="token function">deserialize</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token operator">*</span><span class="token keyword">self</span><span class="token punctuation">.</span>de<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>Some<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// `MapAccess` is provided to the `Visitor` to give it the ability to iterate</span>
<span class="token comment">// through entries of the map.</span>
<span class="token keyword">impl</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de,</span> <span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> MapAccess<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> <span class="token keyword">for</span> CommaSeparated<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a,</span> <span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">type</span> Error <span class="token operator">=</span> Error<span class="token punctuation">;</span>

    <span class="token keyword">fn</span> next_key_seed<span class="token operator">&lt;</span>K<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">,</span> seed<span class="token punctuation">:</span> K<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>Option<span class="token operator">&lt;</span>K<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;&gt;</span>
    <span class="token keyword">where</span>
        K<span class="token punctuation">:</span> DeserializeSeed<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Check if there are no more entries.</span>
        <span class="token keyword">if</span> <span class="token keyword">self</span><span class="token punctuation">.</span>de<span class="token punctuation">.</span><span class="token function">peek_char</span><span class="token punctuation">(</span><span class="token punctuation">)</span>? <span class="token operator">==</span> <span class="token char string">'}'</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">Ok</span><span class="token punctuation">(</span>None<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// Comma is required before every entry except the first.</span>
        <span class="token keyword">if</span> <span class="token operator">!</span><span class="token keyword">self</span><span class="token punctuation">.</span>first <span class="token operator">&amp;&amp;</span> <span class="token keyword">self</span><span class="token punctuation">.</span>de<span class="token punctuation">.</span><span class="token function">next_char</span><span class="token punctuation">(</span><span class="token punctuation">)</span>? <span class="token operator">!=</span> <span class="token char string">','</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>ExpectedMapComma<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
        <span class="token comment">// Deserialize a map key.</span>
        seed<span class="token punctuation">.</span><span class="token function">deserialize</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token operator">*</span><span class="token keyword">self</span><span class="token punctuation">.</span>de<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>Some<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fn</span> next_value_seed<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">,</span> seed<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> DeserializeSeed<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// It doesn't make a difference whether the colon is parsed at the end</span>
        <span class="token comment">// of `next_key_seed` or at the beginning of `next_value_seed`. In this</span>
        <span class="token comment">// case the code is a bit simpler having it here.</span>
        <span class="token keyword">if</span> <span class="token keyword">self</span><span class="token punctuation">.</span>de<span class="token punctuation">.</span><span class="token function">next_char</span><span class="token punctuation">(</span><span class="token punctuation">)</span>? <span class="token operator">!=</span> <span class="token char string">':'</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>ExpectedMapColon<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// Deserialize a map value.</span>
        seed<span class="token punctuation">.</span><span class="token function">deserialize</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token operator">*</span><span class="token keyword">self</span><span class="token punctuation">.</span>de<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">struct</span> Enum<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a,</span> <span class="token lifetime-annotation symbol">'de:</span> <span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    de<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword">mut</span> Deserializer<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">impl</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a,</span> <span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> Enum<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a,</span> <span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function">new</span><span class="token punctuation">(</span>de<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword">mut</span> Deserializer<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Self <span class="token punctuation">{</span>
        Enum <span class="token punctuation">{</span> de <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// `EnumAccess` is provided to the `Visitor` to give it the ability to determine</span>
<span class="token comment">// which variant of the enum is supposed to be deserialized.</span>
<span class="token comment">//</span>
<span class="token comment">// Note that all enum deserialization methods in Serde refer exclusively to the</span>
<span class="token comment">// &quot;externally tagged&quot; enum representation.</span>
<span class="token keyword">impl</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de,</span> <span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> EnumAccess<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> <span class="token keyword">for</span> Enum<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a,</span> <span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">type</span> Error <span class="token operator">=</span> Error<span class="token punctuation">;</span>
    <span class="token keyword">type</span> Variant <span class="token operator">=</span> Self<span class="token punctuation">;</span>

    <span class="token keyword">fn</span> variant_seed<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> seed<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span><span class="token punctuation">(</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token punctuation">,</span> Self<span class="token punctuation">:</span><span class="token punctuation">:</span>Variant<span class="token punctuation">)</span><span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> DeserializeSeed<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// The `deserialize_enum` method parsed a `{` character so we are</span>
        <span class="token comment">// currently inside of a map. The seed will be deserializing itself from</span>
        <span class="token comment">// the key of the map.</span>
        <span class="token keyword">let</span> val <span class="token operator">=</span> seed<span class="token punctuation">.</span><span class="token function">deserialize</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token operator">*</span><span class="token keyword">self</span><span class="token punctuation">.</span>de<span class="token punctuation">)</span>?<span class="token punctuation">;</span>
        <span class="token comment">// Parse the colon separating map key from value.</span>
        <span class="token keyword">if</span> <span class="token keyword">self</span><span class="token punctuation">.</span>de<span class="token punctuation">.</span><span class="token function">next_char</span><span class="token punctuation">(</span><span class="token punctuation">)</span>? <span class="token operator">==</span> <span class="token char string">':'</span> <span class="token punctuation">{</span>
            <span class="token function">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> <span class="token keyword">self</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>ExpectedMapColon<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// `VariantAccess` is provided to the `Visitor` to give it the ability to see</span>
<span class="token comment">// the content of the single variant that it decided to deserialize.</span>
<span class="token keyword">impl</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de,</span> <span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> VariantAccess<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> <span class="token keyword">for</span> Enum<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a,</span> <span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">type</span> Error <span class="token operator">=</span> Error<span class="token punctuation">;</span>

    <span class="token comment">// If the `Visitor` expected this variant to be a unit variant, the input</span>
    <span class="token comment">// should have been the plain string case handled in `deserialize_enum`.</span>
    <span class="token keyword">fn</span> <span class="token function">unit_variant</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">Err</span><span class="token punctuation">(</span>Error<span class="token punctuation">:</span><span class="token punctuation">:</span>ExpectedString<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Newtype variants are represented in JSON as `{ NAME: VALUE }` so</span>
    <span class="token comment">// deserialize the value here.</span>
    <span class="token keyword">fn</span> newtype_variant_seed<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> seed<span class="token punctuation">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>T<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        T<span class="token punctuation">:</span> DeserializeSeed<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        seed<span class="token punctuation">.</span><span class="token function">deserialize</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>de<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Tuple variants are represented in JSON as `{ NAME: [DATA...] }` so</span>
    <span class="token comment">// deserialize the sequence of data here.</span>
    <span class="token keyword">fn</span> tuple_variant<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> _len<span class="token punctuation">:</span> usize<span class="token punctuation">,</span> visitor<span class="token punctuation">:</span> V<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        de<span class="token punctuation">:</span><span class="token punctuation">:</span>Deserializer<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">deserialize_seq</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>de<span class="token punctuation">,</span> visitor<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Struct variants are represented in JSON as `{ NAME: { K: V, ... } }` so</span>
    <span class="token comment">// deserialize the inner map here.</span>
    <span class="token keyword">fn</span> struct_variant<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token punctuation">(</span>
        <span class="token keyword">self</span><span class="token punctuation">,</span>
        _fields<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'static</span> str<span class="token punctuation">]</span><span class="token punctuation">,</span>
        visitor<span class="token punctuation">:</span> V<span class="token punctuation">,</span>
    <span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> Result<span class="token operator">&lt;</span>V<span class="token punctuation">:</span><span class="token punctuation">:</span>Value<span class="token operator">&gt;</span>
    <span class="token keyword">where</span>
        V<span class="token punctuation">:</span> Visitor<span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'de</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        de<span class="token punctuation">:</span><span class="token punctuation">:</span>Deserializer<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">deserialize_map</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>de<span class="token punctuation">,</span> visitor<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">////////////////////////////////////////////////////////////////////////////////</span>

# <span class="token macro-rules function">macro_rules!</span> not_actually_test <span class="token punctuation">{</span>
#     <span class="token punctuation">(</span>$<span class="token punctuation">(</span><span class="token attribute attr-name">#[test]</span> $test<span class="token punctuation">:</span>item<span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
#         $<span class="token punctuation">(</span>$test<span class="token punctuation">)</span><span class="token operator">+</span>
#     <span class="token punctuation">}</span>
# <span class="token punctuation">}</span>
#
# <span class="token macro-rules function">not_actually_test!</span> <span class="token punctuation">{</span>
<span class="token attribute attr-name">#[test]</span>
<span class="token keyword">fn</span> <span class="token function">test_struct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token attribute attr-name">#[derive(Deserialize, PartialEq, Debug)]</span>
    <span class="token keyword">struct</span> Test <span class="token punctuation">{</span>
        int<span class="token punctuation">:</span> u32<span class="token punctuation">,</span>
        seq<span class="token punctuation">:</span> Vec<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token string">r#&quot;{&quot;int&quot;:1,&quot;seq&quot;:[&quot;a&quot;,&quot;b&quot;]}&quot;#</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> expected <span class="token operator">=</span> Test <span class="token punctuation">{</span>
        int<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        seq<span class="token punctuation">:</span> <span class="token function">vec!</span><span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">.</span><span class="token function">to_owned</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">.</span><span class="token function">to_owned</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">assert_eq!</span><span class="token punctuation">(</span>expected<span class="token punctuation">,</span> <span class="token function">from_str</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token attribute attr-name">#[test]</span>
<span class="token keyword">fn</span> <span class="token function">test_enum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token attribute attr-name">#[derive(Deserialize, PartialEq, Debug)]</span>
    <span class="token keyword">enum</span> E <span class="token punctuation">{</span>
        Unit<span class="token punctuation">,</span>
        <span class="token function">Newtype</span><span class="token punctuation">(</span>u32<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">Tuple</span><span class="token punctuation">(</span>u32<span class="token punctuation">,</span> u32<span class="token punctuation">)</span><span class="token punctuation">,</span>
        Struct <span class="token punctuation">{</span> a<span class="token punctuation">:</span> u32 <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token string">r#&quot;&quot;Unit&quot;&quot;#</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> expected <span class="token operator">=</span> E<span class="token punctuation">:</span><span class="token punctuation">:</span>Unit<span class="token punctuation">;</span>
    <span class="token function">assert_eq!</span><span class="token punctuation">(</span>expected<span class="token punctuation">,</span> <span class="token function">from_str</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token string">r#&quot;{&quot;Newtype&quot;:1}&quot;#</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> expected <span class="token operator">=</span> E<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">Newtype</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assert_eq!</span><span class="token punctuation">(</span>expected<span class="token punctuation">,</span> <span class="token function">from_str</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token string">r#&quot;{&quot;Tuple&quot;:[1,2]}&quot;#</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> expected <span class="token operator">=</span> E<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">Tuple</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assert_eq!</span><span class="token punctuation">(</span>expected<span class="token punctuation">,</span> <span class="token function">from_str</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token string">r#&quot;{&quot;Struct&quot;:{&quot;a&quot;:1}}&quot;#</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> expected <span class="token operator">=</span> E<span class="token punctuation">:</span><span class="token punctuation">:</span>Struct <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">assert_eq!</span><span class="token punctuation">(</span>expected<span class="token punctuation">,</span> <span class="token function">from_str</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
# <span class="token punctuation">}</span>
#
# <span class="token keyword">fn</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
#     <span class="token function">test_struct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
#     <span class="token function">test_enum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
# <span class="token punctuation">}</span>
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/kriry/kriry-dev/edit/master/docs/framework/serde/data/impl-deserializer.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">11/27/2019, 11:55:56 AM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/framework/serde/data/impl-serializer.html" class="prev">
          Implementing a Serializer
        </a></span> <span class="next"><a href="/framework/serde/lifetimes.html">
          Deserializer生命周期
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.d3c8f621.js" defer></script><script src="/assets/js/91.c6b2ad01.js" defer></script>
  </body>
</html>
